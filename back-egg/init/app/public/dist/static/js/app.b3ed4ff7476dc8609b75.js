webpackJsonp([1],{"0N45":function(e,t){},EsYo:function(e,t){},GEWG:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("+RKF"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=n("C7Lr")({name:"App"},r,!1,function(e){n("0N45")},null,null).exports,s=n("Fa/W"),i={data:function(){return{fileList:[],someMethod:{}}},methods:{testClick:function(){this.someMethod.doahah.map(function(e){console.log(e)})},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n      这是首页\n      "),n("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/upload","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:3,"on-exceed":e.handleExceed,"file-list":e.fileList}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1),e._v(" "),n("el-button",{on:{click:e.testClick}},[e._v("\n  点击\n")])],1)},staticRenderFns:[]};var l=n("C7Lr")(i,c,!1,function(e){n("GEWG")},null,null).exports,u=n("lC5x"),m=n.n(u),f=n("4YfN"),d=n.n(f),p=n("J0Oq"),g=n.n(p),h={data:function(){return{form:{name:"zhanhui",psw:"123456",code:""},imgcodeSrc:""}},created:function(){var e=this;this.axios.get("/user/getcode?t="+(new Date).getTime()).then(function(t){e.imgcodeSrc=t})},methods:{login:function(){var e=this;return g()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.axios.post("/login",d()({},e.form,{psw:e.md5(e.form.psw)}));case 2:0===t.sent.code&&(e.$message("登陆成功"),e.$router.push({path:"/list"}));case 4:case"end":return t.stop()}},t,e)}))()},changCode:function(){var e=this;this.axios.get("/user/getcode?t="+(new Date).getTime()).then(function(t){e.imgcodeSrc=t})}}},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n    这是登陆页面\n    "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12,offset:6}},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"登陆名"}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{"show-password":""},model:{value:e.form.psw,callback:function(t){e.$set(e.form,"psw",t)},expression:"form.psw"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"验证码"}},[n("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.imgcodeSrc)},on:{click:e.changCode}})],1)],1)],1)],1),e._v(" "),n("el-button",{on:{click:e.login}},[e._v("登陆")])],1)},staticRenderFns:[]};var w=n("C7Lr")(h,v,!1,function(e){n("oxXW")},null,null).exports,x={data:function(){return{form:{name:"zhanhui",psw:"123456",code:"123456",email:"1213344190@qq.com"},imgcodeSrc:"/api/user/getcode"}},created:function(){var e=this;this.axios.get("/user/getcode?t="+(new Date).getTime()).then(function(t){e.imgcodeSrc=t})},methods:{register:function(){var e=this;return g()(m.a.mark(function t(){var n;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,t.next=3,e.axios.post("/register",d()({},e.form,{psw:n.md5(e.form.psw)}));case 3:0===t.sent.code&&e.$router.push({path:"/login"});case 5:case"end":return t.stop()}},t,e)}))()},changCode:function(){var e=this;this.axios.get("/user/getcode?t="+(new Date).getTime()).then(function(t){e.imgcodeSrc=t})}}},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n    这是注册页面\n    "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12,offset:6}},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"注册邮箱"}},[n("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"用户密码"}},[n("el-input",{attrs:{"show-password":""},model:{value:e.form.psw,callback:function(t){e.$set(e.form,"psw",t)},expression:"form.psw"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"重新输入密码"}},[n("el-input",{attrs:{"show-password":""},model:{value:e.form.psw,callback:function(t){e.$set(e.form,"psw",t)},expression:"form.psw"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"验证码"}},[n("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}}),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.imgcodeSrc)},on:{click:e.changCode}})],1)],1)],1)],1),e._v(" "),n("el-button",{on:{click:e.register}},[e._v("注册")])],1)},staticRenderFns:[]};var b=n("C7Lr")(x,_,!1,function(e){n("rEdP")},null,null).exports,k={created:function(){this.getList()},methods:{getList:function(){var e=this;return g()(m.a.mark(function t(){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("/getList");case 2:t.sent;case 3:case"end":return t.stop()}},t,e)}))()}}},E={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n    列表\n")])},staticRenderFns:[]};var $=n("C7Lr")(k,E,!1,function(e){n("EsYo")},null,null).exports;o.default.use(s.a);var C=new s.a({routes:[{path:"/",name:"index",component:l},{path:"/login",name:"login",component:w},{path:"/register",name:"register",component:b},{path:"/list",name:"list",component:$}]}),L=n("rVsN"),R=n.n(L),T=n("I29D"),S=n.n(T),F=n("bQIR"),N=n.n(F),y=this,K="production";console.log("环境变量",K);var P,M={timeout:5e3,baseURL:""},Y=S.a.create(M);Y.interceptors.request.use(function(e){e.headers.common.Kaikeba="dasheng";var t=window.localStorage.getItem("TOKEN-KEY");return t&&(e.headers.common.Authorization="Bearer "+t),e},function(e){return R.a.reject(e)}),Y.interceptors.response.use((P=g()(m.a.mark(function e(t){var n,r,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("res",t),n=t.data,r=t.config,0===n.code?(console.log("请求路径",r.url),"/login"===r.url&&(a=n.data.token,localStorage.setItem("TOKEN-KEY",a))):-666===n.code&&F.MessageBox.confirm("登录已过期","过期",{confirmButtonText:"去登录",showCancelButton:!1,type:"warning"}).then(function(){localStorage.removeItem("TOKEN-KEY"),(new o.default).$router.push({path:"/login"})}),e.abrupt("return",n);case 4:case"end":return e.stop()}},e,y)})),function(e){return P.apply(this,arguments)}),function(e){return R.a.reject(e)});var q=Y,D=(n("gFLX"),n("V0Zq")),H=n.n(D);o.default.config.productionTip=!1,o.default.prototype.axios=q,console.log("md5",H.a),o.default.prototype.md5=H.a,o.default.use(N.a),o.default.config.errorHandler=function(e,t,n){var o=e.message,r=e.name,a=e.script,s=e.line,i=e.column,c=e.stack;console.log(o),console.log(r),console.log(a),console.log(s),console.log(i),console.log(c);var l={message:o,errType:r,stack:c};q.post("/senderr",l).then(function(e){console.log(e)})},new o.default({el:"#app",router:C,components:{App:a},template:"<App/>"})},gFLX:function(e,t){},oxXW:function(e,t){},rEdP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b3ed4ff7476dc8609b75.js.map